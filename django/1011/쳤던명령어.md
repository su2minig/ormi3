mkdir mysite
cd mysite
python -m venv venv

# 가상환경속으로 들어가기
.\venv\Scripts\activate # window
.\venv\Script\activate.bat # window
source ./venv/bin/activate # mac, linux

# window에서 오류가 뜰 경우
+ CategoryInfo          : 보안 오류: (:) [], PSSecurityException
+ FullyQualifiedErrorId : UnauthorizedAccess
# 이걸 입력해주세요.
Set-ExecutionPolicy Unrestricted

pip install django
django-admin startproject tutorialdjango .
python manage.py migrate
python manage.py runserver

# settings.py에서 접속할 수 있는 사람 설정
ALLOWED_HOSTS = ['*'] # 28번째 줄에 접속할 수 있는 사람을 모든 사람으로 변경

python manage.py startapp main
python manage.py startapp blog

# settings.py 에서 33번째 라인 수정
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'main',
    'blog',
]
###################################
# urls 기획
1. 다음 url이 실제 작동하도록 해주세요.
1.1 ''
1.2 'blog/'
1.3 'blog/<int:pk>'
1.4 'blog/test' # 템플릿 태그와 템플릿 상속이 어떻게 이뤄지는지 확인

###################################
앱이름: main    views 함수이름     html 파일이름    비고
''             index            index.html

앱이름: blog    views 함수이름   html 파일이름  비고
'blog/'         blog            blog.html    
'blog/<int:pk>' post            post.html
'blog/<int:pk>' test            test.html

* test라는 이름 자체를 사용하지 않기를 권합니다.

from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('main.urls')),
    path('blog/', include('blog.urls')),
]


###################################
# tutorialdjango > urls.py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('main.urls')),
    path('blog/', include('blog.urls')),
]

###################################
# main > urls.py
from django.urls import path
from . import views

urlpatterns = [
    path('', views.index, name='index'),
    path('about/', views.about, name='about'),
    path('contact/', views.contact, name='contact'),
]

###################################
# main > views.py
from django.shortcuts import render

def index(request):
    return render(request, 'main/index.html')

def about(request):
    return render(request, 'main/about.html')

def contact(request):
    return render(request, 'main/contact.html')

###################################
# templates 기본 폴더 변경합시다!

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'],
        'APP_DIRS': True,
        # .. 생략 ..
    },
]

# mysite > main > about.html
# mysite > main > index.html
# mysite > main > contact.html
# mysite > blog > blog.html # 어차피 만들 것이라 미리 생성하겠습니다.
# mysite > blog > post.html # 어차피 만들 것이라 미리 생성하겠습니다.

###################################
# blog > urls.py

from django.urls import path
from . import views

urlpatterns = [
    path('', views.blog, name='blog'),
    path('<int:pk>/', views.post, name='post'),
]

###################################
# blog > views.py
from django.shortcuts import render

def blog(request):
    return render(request, 'blog/blog.html')

def post(request, pk):
    return render(request, 'blog/post.html')

###################################

python manage.py runserver

# 모든 url 테스트해봅니다.
# http://127.0.0.1:8000
# http://127.0.0.1:8000/about/
# http://127.0.0.1:8000/blog/
# http://127.0.0.1:8000/blog/999

###################################
# blog > views.py
from django.shortcuts import render

# mooc db
db = [
    {
        'id': 1,
        'title': '첫번째 게시물 제목',
        'contents': '첫번째 게시물 내용',
        'created_at': '2023-10-10 00:00:00',
        'updated_at': '2023-10-11 00:00:00',
        'author': '이순신',
        'category': '일상',
        'tags': '체력단련, 무예단련',
        'thumbnail': 'https://picsum.photos/200/300',
    },
    {
        'id': 2,
        'title': '두번째 게시물 제목',
        'contents': '두번째 게시물 내용',
        'created_at': '2023-10-12 00:00:00',
        'updated_at': '2023-10-13 00:00:00',
        'author': '김유신',
        'category': '테크',
        'tags': '맥북, 아이폰, 파이썬',
        'thumbnail': 'https://picsum.photos/200/300',
    },
    {
        'id': 3,
        'title': '세번째 게시물 제목',
        'contents': '세번째 게시물 내용',
        'created_at': '2023-10-14 00:00:00',
        'updated_at': '2023-10-15 00:00:00',
        'author': '세종대왕',
        'category': '취미',
        'tags': '그림, 서예',
        'thumbnail': 'https://picsum.photos/200/300',
    },
]

def blog(request):
    # db = Blog.objects.all()
    context = {
        'db': db,
    }
    return render(request, 'blog/blog.html', context)

def post(request, pk):
    # db = Blog.objects.get(pk=pk)
    context = {
        'db': db[pk-1],
    }
    return render(request, 'blog/post.html', context)

###################################
# 템플릿 태그, 템플릿 상속
## 템플릿 태그
{{ 변수명 }}
{% 템플릿 문법 %}

## 템플릿 상속
* 홈페이지를 조각내어 각각에 html로 관리하는 기법
* 부모 입장

... 위 코드 ...
{% block 이름 %}
{% endblock %}
... 아래 코드 ...

* 자식 입장

{% extends '부모html파일명' %}
{% block 이름 %}
... 실제 사용한 코드 ...
{% endblock %}

###################################
# templates > blog > menu_and_footer.html 파일 생성(부모입장)

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>blog</title>
</head>
<body>
    <h1>블로그 페이지 입니다.</h1>
    <p>위인의 블로그 페이지입니다.</p>
    <ul>
        <li>main</li>
        <li>about</li>
        <li>contact</li>
        <li>blog</li>
    </ul>

    {% block content %}
    {% endblock %}

    <footer>
        <p>이 블로그의 저작권은 각 위인에게 있습니다.</p>
    </footer>
</body>
</html>

###################################
# templates > blog > blog.html 파일 변경(자식 입장)
{% extends 'blog/menu_and_footer.html' %}

{% block content %}
<p>여기는 blog.html파일입니다! 나중에 blog 전체 목록을 가져올 것입니다!</p>
{% endblock %}

###################################
# templates > blog > post.html 파일 변경(자식 입장)
{% extends 'blog/menu_and_footer.html' %}

{% block content %}
<p>여기는 post.html파일입니다! 나중에 post 단일 목록을 가져올 것입니다!</p>
{% endblock %}

###################################
# 템플릿 상속 나아가기!
# templates > blog > menu_and_footer.html 파일 수정(부모입장)
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>blog</title>
</head>
<body>
    <h1>블로그 페이지 입니다.</h1>
    <p>위인의 블로그 페이지입니다.</p>
    <ul>
        <li>main</li>
        <li>about</li>
        <li>contact</li>
        <li>blog</li>
    </ul>

    {% block content %}
    {% endblock %}

    <hr>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Id unde dignissimos sit corporis quas quibusdam ipsa error nobis, {% block licat %}{% endblock %}nesciunt tenetur sequi consectetur aliquid veniam autem nihil, labore, iusto in aspernatur.</p>

    {% block binky %}
    {% endblock %}

    <footer>
        <p>이 블로그의 저작권은 각 위인에게 있습니다.</p>
    </footer>

    <script>
        {% block mura %}
        {% endblock %}
    </script>
</body>
</html>
###################################
templates > blog > blog.html
{% extends 'blog/menu_and_footer.html' %}

{% block content %}
<p>여기는 blog.html파일입니다! 나중에 blog 전체 목록을 가져올 것입니다!</p>
{% endblock %}

{% block licat %}
나랏말싸미 듕귁에 달아
{% endblock %}

{% block binky %}
<p>무궁화 삼천리 화려 강산</p>
{% endblock %}

{% block mura %}
let x = 10;
let y = 20;
console.log(x + y);
{% endblock %}

###################################
# bootstrap
# bootstrap 폴더에서 작업합니다.

###################################
# static files
최상위 폴더에 static 폴더 생성

# settings.py
STATIC_URL = '/static/'
STATICFILES_DIRS = [BASE_DIR / 'static']

###################################
# 이전 버전은 static url도 생성했었어야 했으니
# 만약 그대로 보여진다면 static url 생성하는 것도 check!

{% load static %} # 최 상위 1번
{% static 'STATIC_URL 이후의 경로' %}
```